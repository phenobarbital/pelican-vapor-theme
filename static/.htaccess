AddDefaultCharset UTF-8
Options All -Indexes
ServerSignature Off
ErrorDocument 404  404.html
RewriteEngine On
Options +FollowSymlinks
FileETag None
RewriteCond %{HTTP_USER_AGENT} libwww [NC,OR]
RewriteCond %{QUERY_STRING} ^(.*)=http [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{QUERY_STRING} (\<|%3C).*script.*(\>|%3E) [NC,OR]
RewriteCond %{QUERY_STRING} (\<|%3C).*iframe.*(\>|%3E) [NC,OR]
RewriteCond %{QUERY_STRING} base64_encode.*\(.*\) [OR]
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
# GZip Files
<FilesMatch "\.(htm|html|php|css|js)$">
   AddHandler application/x-httpd-php .html
</FilesMatch>
<FilesMatch "\.(htm|html|php|xml|css|js)$">
   SetOutputFilter DEFLATE
</FilesMatch>
<IfModule mod_deflate.c>
   AddOutputFilterByType DEFLATE text/html text/plain text/css application/json text/xml application/xml
   AddOutputFilterByType DEFLATE text/javascript application/javascript application/x-javascript text/x-component
   SetOutputFilter DEFLATE
</IfModule>
<IfModule mod_expires.c>
  ExpiresActive on
  ExpiresDefault A0
  ExpiresByType text/cache-manifest A2592000
  ExpiresByType text/html A2592000
  ExpiresByType text/xml A2592000
  ExpiresByType application/xml A2592000
  ExpiresByType application/json A2592000
  ExpiresByType application/rss+xml A2592000
  ExpiresByType image/x-icon  A2592000
  ExpiresByType image/gif A2592000
  ExpiresByType image/png A2592000
  ExpiresByType image/jpg A2592000
  ExpiresByType image/jpeg A2592000
  ExpiresByType image/ico A2592000
  ExpiresByType text/css A2592000
  ExpiresByType application/javascript A2592000
  ExpiresByType text/javascript A2592000
# A2592000 means 1 month in the future (60*60*24*30=2592000)
  <IfModule mod_headers.c>
    Header append Cache-Control "public"
  </IfModule>
</IfModule>